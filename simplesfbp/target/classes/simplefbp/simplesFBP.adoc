= Java Programming 평가 시험

{empty} +

**주의 사항**

* 인터넷 검색을 통해 관련 자료 검색만 허용한다.
* CodeStyle, SonarLint 등 툴에서의 지적 사항은 모두 해결한다.
* 디버깅, 정보 등을 위해 logger 사용을 권장한다.
* 모든 Exception은 합당한 처리 코드가 있어야 한다.
* 위 내용에 따라 감점 또는 가점 될 수 있다.
** 반드시 필요한 경우 그에 합당한 이유를 남길 경우 허용한다.

{empty} +

**제출 방법**

* **제출시 target을 제외한 모든 프로젝트를 압축하여 제출한다**

{empty} +

== SimpleFBP 만들기

* SimpleFBP는 Flow-based Programmingfootnote:[https://en.wikipedia.org/wiki/Flow-based_programming[Flow-based programming]] 기법을 활용하여 프로그래밍 할 수 있는 도구를 말한다.

=== 기본 구성 요소

**Node**

* Message 처리를 개별적으로 동작한다.
* Pipe를 통해 다른 node와 통신한다.
** 외부 (파일, 소켓 등)에서 받은 데이터를 flow로 유입시키는 node를 Input Node라 한다.
** Flow의 데이터를 외부 (파일, 소켓 등)로 보내는 node를 Output Node라 한다.
* 단일 기능 수행을 목적으로 한다.

{empty} +

**Pipe**

* Node간 message전달을 위해 사용된다.
* 하나 이상의 message를 보관할 수도 있다.
* 새로운 message가 들어오면, 전달할 node에게 이를 알릴 수 있다.

{empty} +

**Message**

* Node간 전달할 데이터를 가지고 있다.
* 데이터의 종류에 따라 다양한 message가 생성될 수 있다.

{empty} +

== 문제

{empty} +

---

=== 1. 다음 조건을 만족하는 Node 클래스를 정의하라. (10)

* FBP를 구성하는 node들이 공통적으로 가져야하는 기능을 정의한다.

{empty} +

**기능**

* 식별자
** 고유한 식별자로 중복을 허용하지 않는다.
* 이름
** 기본 이름을 가지며, 변경 가능하다.
** 다른 인스턴스에서 동일한 이름을 가질 수 있다.
* Instance는 생성할 수 없다.

{empty} +

**문제**

* 클래스를 정의하라.(5)
* 단위 테스트를 이용해 기능을 검증하라.(5)
** Instance 생성이 안되는 클래스의 경우, 확장 기능을 이용해 새로운 클래스를 정의하여 테스트한다.

{empty} +

---

=== 2. 다음 조건을 만족하는 Message 클래스를 정의하라. (10)

Node간 데이터 전달을 위해 이용되는 class로 생성 후 소멸까지 고유한 object로 유지된다.

{empty} +

**기능**

* 식별자
** 고유한 식별자로 중복을 허용하지 않는다.
* 정보
** 메시지 생성 시간 정보를 갖는다.
* Instance는 생성할 수 없다.

{empty} +

**문제**

* 클래스를 정의하라.(5)
* 단위 테스트를 이용해 기능을 검증하라.(5)
** Instance 생성이 안되는 클래스의 경우, 확장 기능을 이용해 새로운 클래스를 정의하여 테스트한다.

{empty} +

---

=== 3. 다음 조건을 만족하는 Pipe 클래스를 정의하라. (10)

Pipe class는 node간 메시지 전달을 위한 중계자 역할을 수행하며, 메시지 처리를 위해 일정량 보관하거나 우선 순위 변경등을 할 수 있다.

Pipe는 아래 그림과 같이 node간 연결을 지원하고, OutputNode의 구성 요소로 들어간다.

image::./image/message_transfer.svg[title="Pipe를 이용한 메시지 전송"]

{empty} +

**기능**

* 식별자
** 고유한 식별자로 중복을 허용하지 않는다.
* 저장
** 하나 이상의 메시지를 저장할 수 있다.
** 메시지 저장 갯수를 지정 가능하다.
** 우선 순위가 있을 수 있다.
*** 우선 순위를 갖는 메시지의 경우, 우선하거나 나중에 처리될 수 있다.

{empty} +

**문제**

* 클래스를 정의하라.(5)
* 단위 테스트를 이용해 기능을 검증하라.(5)

{empty} +

---

=== 4. 다음 조건을 만족하는 ActiveNode 클래스를 정의하라. (10)

Node 중에서 독립적으로 실행가능한 node들의 공통적인 기능을 정의한다.

ActiveNode class는 아래와 같은 상태를 가질 수 있다.

image::./image/active_node_state.svg[title="ActiveNode에서의 제어 흐름"]

[cols="1,5"]
|===
^s|상태
^s|설명

^s|start
|ActiveNode 동작 시작

^s|initialize
|object 동작 시작 후 내부적인 초기화 과정이 필요한 경우 수행된다.

^s|perform
|object의 주된 업무를 수행하는 단계로 확장을 통해 실체화된 class에서 주요 기능을 수행한다

^s|idle
|실행 node는 일정 주기를 가지로 main과 idle을 반복한다. main에서 주기 시간내에 수행 업무를 완료한 경우 idle에서 남는 시간을 대기한다.

^s|finalize
|object 동작을 완전히 중지 시킬 경우, 리소스 해지등의 정리 작업을 수행한다.

^s|terminated
|실행 node가 완전히 종료된다.
|===

{empty} +


**기능**

* Node class의 한 종류
* Instance를 생성할 수 없다.
* 개별로 동작 가능하다.
* 수행 제어할 수 있다.
** 시작/멈춤/재개/종료

{empty} +

**문제**

* 클래스를 정의하라. (5)
* 단위 테스트를 이용해 기능을 검증하라.(5)

{empty} +

---

=== 5. 메시지 수신을 위한 pipe 연결 가능한 타입을 위해 Consumer 인터페이스를 정의하라. (5)

interface Consumer를 메시지를 받아 소비하는 타입으 메시지를 전달 받기 위한 pipe 연결 기능을 정의하고 있다.

{empty} +

**기능**

* 입력 파이프 연결

{empty} +

**문제**

* 클래스를 정의하라. (5)

{empty} +

---

=== 6. 메시지 출력을 위한 pipe 연결이 가능한 타입을 위해 Producer 인터페이스를 정의하라. (5)

* interface Producer는 메시지를 생산하여 파이프에 넣기 위한 기능들을 정의하고 있다.

{empty} +

**기능**

* 출력 파이프 연결

{empty} +

**문제**

* 클래스를 정의하라. (5)

{empty} +

---

=== 7. 위에서 정의한 class와 interface를 활용하여 표준 입력을 통해 입력 받을 수 있는 ConsoleInNode 클래스를 정의하라. (5)

표준 입력을 받아 flow 내로 전달하는 기능을 정의한다.

{empty} +

**기능**

* Producer type으로 인식한다.
* 개별 동작한다.
* 키보드의 입력을 받아 메시지로 전달한다.
* 입력 받은 데이터는 문자열, 숫자 일 수 있다.
** 메시지를 구분하여 전송한다.

{empty} +

**문제**

* 클래스를 정의하라. (5)


---

=== 8. 위에서 정의한 class와 interface를 활용하여 표준 출력을 통해 화면 출력이 가능한 TerminalOutNode 클래스를 정의하라.(5)

출력 node로서 수신된 메시지를 표준 출력을 통해 내보낸다.

{empty} +

**기능**

* Consumer type으로 인식한다.
* 개별 동작한다.
* 메시지를 출력한다.

{empty} +

**문제**

* 클래스를 정의하라. (5)

{empty} +

---

=== 9. 위에서 정의한  class와 interface를 활용하여, 일정 시간 간격으로 메시지를 출력하는 TimerNode를 정의하라. (10)

설정된 조건에 맞게 일정 시간 또는 지정 시간에 정해진 메시지를 pipe를 통해 한다.

{empty} +

**기능**

* Producer type으로 인식한다.
* 개별 동작한다.
* 일정 시간 간격으로 메시지를 생성한다.
* 시간 간격을 설정한다.
* 메시지에 탑재될 값을 함수로 설정할 수 있다.

**문제**

* 클래스를 정의하라. (5)
* 단위 테스트를 이용해 기능을 검증하라. (5)

{empty} +

---

=== 10. 위에서 정의한  class와 interface를 활용하여, 입력을 가공하여 출력할 수 있는 FunctionNode 클래스를 정의하라. (10)

Function과 같이 입력을 받아 출력을 생성한다.

{empty} +

**기능**

* Producer type으로 인식한다.
* Consumer type으로 인식한다.
* 입출력 포트는 한개 이상 연결 가능하다.
* 입출력 포트를 고정 또는 가변으로 정의할 수 있다.

**문제**

* 클래스를 정의하라. (5)
* 단위 테스트를 이용해 기능을 검증하라. (5)

{empty} +

---

=== 11. Node, Pipe등을 관리하기 위한 Flow 클래스를 정의하라. (20)

**기능**

* flow에서 사용되는 Node를 관리한다.
** Node는 Node, Cosumer, Producer로 구분하여 관리될 수 있다.
* flow에서 사용되는 Pipe를 관리한다.

**문제**

* 클래스를 정의하라. (10)
* 단위 테스트를 이용해 기능을 검증하라. (10)

{empty} +

---

=== 12. 위에서 정의한 class를 이용해 아래의 flow를 구성하라. (30)

4칙 연산 node를 구현한다.

{empty} +

**기능**

* n개의 입력 port와 m개의 출력 port를 가질 수 있다.
* n개의 입력 port를 통해 모두 데이터를 받은 경우에만 계산을 수행한다.
* m개의 출력 port에는 동일한 계산 값이 출력된다.
* 필요한 경우, 추가 클래스를 정의해 사용해도 된다.

image::./image/Arithmetic_Operation.svg[title="Arithmetic Operation"]

{empty} +

**문제**

* flow별로 구성한다.(각 5점)
* 모두 구현시 (5점)
* 단위 테스트를 이용해 검증하라. (10점)

{empty} +

---

=== 13. 위에서 정의한 class를 이용해 피보나치 수열 생성기를 구성하라.(20)

* 몇가지 node를 설계하여 피보나치 수열을 생성하는 생성기를 만든다
* 하나의 node를 직접 만들어 구현할 수도 있으나, 재활용 가능하도록 기능을 나누어 여러개의 node가 되도록 구성하라


아래 구성도는 node로 구성하여 만든 피보나치 수열 생성기를 나타낸다.

image::./image/fibonacci.svg[title="Fibonacci 수열"]

* Clock을 일정 간격으로 신호를 발생 시킨다.
* Latch는 clock가 들어올때 마다 동작한다.
* Latch1은 1, Latch2는 0을 초기값으로 갖는다.
* Rep1, Rep2는 입력된 값을 하나 이상의 출력으로 전달한다.

[cols="1,5"]
|===
^s|Node
^s|설명

^s| Clock
|일정 주기로 신호를 생성한다. 신호가 생성될때 마다 피보나치 수열의 다음 수가 계산되어 출력된다.

^s|Replication
|입력 받은 값은 2개의 출력으로 만든다.

^s|Latch
|입력되는 값을 클럭이 들어올때 마다 출력한다. 새롭게 업데이트든 값이 없는 경우, default를 돌려 준다.

^s|AddNode
|두 값을 더해 출력한다.

^s|Delay
|입력된 데이터를 지연 시켜 전달한다.

^s|Standard Output
|터미널로 값을 출력한다.
|===

{empty} +

**문제**

* 피로나치 수열 flow를 작성하라. (20)

{empty} +

---

=== 14. 위에서 구성한 Flow를 JSON 파일로 저장하고, 실행시 해당 파일을 읽어 flow을 구성하여 동작하도록 구성하라.(20)

* jar로 묶어 실행하지 않고, launch.json에 설정해서 실행해도 됨.

{empty} +

**문제**

* flow를 json으로 표현하고, 이를 읽어 들어 flow를 구성하도록 하라. (20)


{empty} +

---

=== 15. TCP/IP 통신이 가능한 Server/Client 노드를 정의하고, 아래 그림과 같은 서비스를 구성하라.(40)

image::./image/echo_server.svg[]

* 자원은 관리 되어야 한다.
* Server에서 Client 접속 및 해제시 IP, Port 등의 정보를 로그로 남긴다.
* Socket In Node는 Input Node로 구현하는 것이 좋다.
* Socket Out Node는 Output Node로 구현하는 것이 좋다.

{empty} +

**문제**

* 위 그림과 같은 구성 구성을 flow로 작성하라.
** client 구현 (10)
** Echo Server 구현 (10)
** 다중 접속 구현 (20)